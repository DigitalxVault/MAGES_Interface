---
phase: 06-polish
plan: 01
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - src/app/globals.css
  - src/components/ui/MetalPanel.tsx
  - src/components/RivetButton.tsx
  - src/components/SoundEffectsPanel.tsx
  - src/components/BackgroundMusic.tsx
  - src/components/TimerPanel.tsx
  - src/components/DicePanel.tsx
  - src/components/MainInterface.tsx
  - src/components/WelcomeScreen.tsx
autonomous: true

must_haves:
  truths:
    - "All features work smoothly on tablet in both orientations"
    - "Touch interactions feel responsive with appropriate visual feedback"
    - "Animations are smooth and enhance UX without jank"
    - "Loading state displays during initial asset load"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Polished animations and transitions"
    - path: "src/components/MainInterface.tsx"
      provides: "Responsive layout with loading states"
  key_links:
    - from: "src/components/*.tsx"
      to: "globals.css"
      via: "CSS transitions and animations"
      pattern: "transition-"

<objective>
Refine responsive behavior, smooth animations, and loading states

Purpose: Polish the user experience with responsive touch targets, smooth animations, loading states, and orientation-aware layout adjustments.

Output: Polished interface ready for performance optimization and deployment
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/phases/05-dice/05-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add loading state to WelcomeScreen</name>
  <files>
    src/components/WelcomeScreen.tsx
  </files>
  <action>
    Update src/components/WelcomeScreen.tsx:
    - Add loading state that shows while audio assets load
    - Display "INITIALIZING..." text during load
    - Show spinner or progress indicator
    - Transition to "TAP TO BEGIN" when ready
    - Add fade-in animation for smooth entry
  </action>
  <verify>
    Loading state displays on mount
    Transitions to ready state
    Fade-in animation works
  </verify>
  <done>
    Loading state added to WelcomeScreen
  </done>
</task>

<task type="auto">
  <name>Task 2: Polish CSS animations</name>
  <files>
    src/app/globals.css
  </files>
  <action>
    Update src/app/globals.css:
    - Enhance pulse-glow animation with smoother timing
    - Add fade-in animation for page transitions
    - Add slide-up animation for panels
    - Improve button hover/active states
    - Add subtle scale transforms on touch
    - Ensure animations use GPU acceleration (transform, opacity)
  </action>
  <verify>
    All animations are smooth (60fps)
    No layout thrashing
    GPU-accelerated properties used
  </verify>
  <done>
    CSS animations polished
  </done>
</task>

<task type="auto">
  <name>Task 3: Refine touch interactions</name>
  <files>
    src/components/ui/RivetButton.tsx
    src/components/SoundEffectsPanel.tsx
    src/components/BackgroundMusic.tsx
    src/components/TimerPanel.tsx
    src/components/DicePanel.tsx
  </files>
  <action>
    Update all interactive components:
    - Add active:scale-[0.98] to all buttons for touch feedback
    - Ensure touch feedback is instant (0ms transition on active)
    - Add transition-all duration-150 for smooth state changes
    - Increase touch targets where needed (min 44x44px)
    - Add hover states for desktop users
  </action>
  <verify>
    All buttons have touch feedback
    Touch targets meet minimum size
    Transitions are smooth
  </verify>
  <done>
    Touch interactions refined
  </done>
</task>

<task type="auto">
  <name>Task 4: Improve responsive layout</name>
  <files>
    src/components/MainInterface.tsx
    src/components/SoundEffectsPanel.tsx
    src/components/BackgroundMusic.tsx
    src/components/TimerPanel.tsx
    src/components/DicePanel.tsx
  </files>
  <action>
    Update layout components:
    - Adjust grid for portrait vs landscape tablets
    - Ensure panels have equal height in grid
    - Add min-height constraints for consistent appearance
    - Improve spacing on smaller tablets
    - Test orientation-specific classes (landscape vs portrait)
  </action>
  <verify>
    Layout works in both orientations
    Panels have consistent heights
    No overflow issues
  </verify>
  <done>
    Responsive layout improved
  </done>
</task>

<task type="auto">
  <name>Task 5: Add smooth transitions between states</name>
  <files>
    src/components/WelcomeScreen.tsx
    src/components/MainInterface.tsx
  </files>
  <action>
    Add state transitions:
    - Fade out WelcomeScreen when entering
    - Fade in MainInterface after welcome
    - Add transition wrapper for smooth entry
    - Use CSS transitions for opacity/transform
  </action>
  <verify>
    Welcome to Main transition is smooth
    No jarring cuts between states
  </verify>
  <done>
    Smooth transitions added
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. WelcomeScreen shows loading state then ready state
2. TAP TO BEGIN fades out smoothly when tapped
3. MainInterface fades in smoothly
4. All buttons have instant touch feedback (scale down)
5. All buttons restore smoothly (transition duration-150)
6. Layout works in portrait orientation
7. Layout works in landscape orientation
8. Panels maintain equal heights in grid
9. No horizontal scroll on tablet
10. Animations run at 60fps
</verification>

<success_criteria>
- Loading state on WelcomeScreen
- Smooth fade transitions between screens
- All buttons have touch feedback (scale)
- Responsive layout works in both orientations
- Smooth animations with GPU acceleration
- No jank or layout shifts
</success_criteria>

<output>
After completion, create `.planning/phases/06-polish/06-01-SUMMARY.md`
</output>
